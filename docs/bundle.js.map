{"version":3,"file":"bundle.js","mappings":"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AACA,YAAY,EAAE,IAAI,CAACyO,kBAAkB,CAACE,SAAS,CAACG,GAAG,CAAC,gBAAgB,CAAC,CAAC,KACtE;QACD,IAAI,CAACL,kBAAkB,CAACE,SAAS,CAACC,MAAM,CAAC,gBAAgB,CAAC;QAC1D,IAAI,CAACH,kBAAkB,CAAC5K,WAAW,GAAG4J,kEAAmB,CAACrN,IAAI,CAAC;MACnE;IACJ;EAAC;IAAAb,GAAA;IAAAC,KAAA,EAED,SAAA+C,eAAeF,IAAI,EAAE;MACjB,IAAI,CAACgM,mBAAmB,CAACxK,WAAW,GAAGxB,IAAI;IAC/C;EAAC;IAAA9C,GAAA;IAAAC,KAAA,EAED,SAAAG,qBAAqBoP,OAAO,EAAE;MAC1B,IAAI,CAACX,eAAe,CAACY,gBAAgB,CAAC,QAAQ,EAAED,OAAO,CAAC;IAC5D;EAAC;IAAAxP,GAAA;IAAAC,KAAA,EAED,SAAA4B,8BAA8B6N,IAAI,EAAE;MAChC,IAAI,CAACV,aAAa,CAACI,SAAS,CAACO,MAAM,CAAC,gBAAgB,EAAE,CAACD,IAAI,CAAC;MAC5D,IAAI,CAACA,IAAI,EAAE,IAAI,CAACX,cAAc,CAACzK,WAAW,GAAG,EAAE;IACnD;EAAC;AAAA;;;;;;;;;;;;;;;;;;ACjEL;AAC0G;AACjB;AACzF,8BAA8B,mFAA2B,CAAC,4FAAqC;AAC/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,iFAAiF,UAAU,YAAY,aAAa,OAAO,KAAK,YAAY,WAAW,UAAU,YAAY,aAAa,aAAa,WAAW,YAAY,aAAa,WAAW,OAAO,OAAO,UAAU,YAAY,aAAa,aAAa,aAAa,WAAW,MAAM,MAAM,YAAY,aAAa,OAAO,KAAK,YAAY,aAAa,aAAa,OAAO,KAAK,YAAY,aAAa,WAAW,UAAU,OAAO,KAAK,UAAU,OAAO,KAAK,UAAU,YAAY,MAAM,KAAK,YAAY,WAAW,KAAK,KAAK,YAAY,MAAM,KAAK,UAAU,YAAY,aAAa,WAAW,YAAY,MAAM,KAAK,UAAU,MAAM,KAAK,YAAY,WAAW,UAAU,YAAY,aAAa,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU,YAAY,aAAa,WAAW,UAAU,YAAY,OAAO,KAAK,UAAU,YAAY,aAAa,aAAa,OAAO,KAAK,UAAU,YAAY,WAAW,UAAU,YAAY,OAAO,KAAK,YAAY,WAAW,UAAU,YAAY,aAAa,OAAO,KAAK,YAAY,OAAO,KAAK,UAAU,UAAU,UAAU,YAAY,aAAa,aAAa,sCAAsC,sBAAsB,gCAAgC,gCAAgC,KAAK,kBAAkB,+BAA+B,sBAAsB,sBAAsB,4BAA4B,gCAAgC,+BAA+B,wBAAwB,gCAAgC,yBAAyB,qBAAqB,KAAK,uDAAuD,wBAAwB,+BAA+B,4BAA4B,0BAA0B,2BAA2B,oBAAoB,KAAK,wCAAwC,4BAA4B,0BAA0B,KAAK,0BAA0B,+BAA+B,2BAA2B,4BAA4B,KAAK,mBAAmB,+BAA+B,4BAA4B,sBAAsB,wBAAwB,KAAK,yBAAyB,sBAAsB,KAAK,mBAAmB,wBAAwB,4BAA4B,KAAK,uBAAuB,2BAA2B,kBAAkB,KAAK,wBAAwB,+BAA+B,KAAK,oBAAoB,sBAAsB,sCAAsC,0BAA0B,wBAAwB,yBAAyB,KAAK,0BAA0B,qBAAqB,KAAK,yBAAyB,+BAA+B,sBAAsB,sBAAsB,gCAAgC,4BAA4B,KAAK,sCAAsC,8BAA8B,KAAK,oCAAoC,gCAAgC,KAAK,yCAAyC,iCAAiC,KAAK,iBAAiB,wBAAwB,+BAA+B,4BAA4B,sBAAsB,uBAAuB,4BAA4B,KAAK,yBAAyB,wBAAwB,0BAA0B,2BAA2B,4BAA4B,KAAK,uBAAuB,sBAAsB,4BAA4B,mBAAmB,oBAAoB,yBAAyB,KAAK,uBAAuB,8BAA8B,oBAAoB,qBAAqB,2BAA2B,+BAA+B,KAAK,2BAA2B,mCAAmC,KAAK,0BAA0B,wBAAwB,sBAAsB,mBAAmB,+BAA+B,4BAA4B,4BAA4B,KAAK,uBAAuB;AACj2H;AACA,iEAAe,uBAAuB,EAAC;;;;;;;;;;;ACjJ1B;;AAEb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;AACrD;AACA;AACA,gDAAgD;AAChD;AACA;AACA,qFAAqF;AACrF;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,qBAAqB;AACrB;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,iBAAiB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,qBAAqB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,sFAAsF,qBAAqB;AAC3G;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,iDAAiD,qBAAqB;AACtE;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,sDAAsD,qBAAqB;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACpFa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD,cAAc;AACrE;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACdA,MAA+F;AAC/F,MAAqF;AACrF,MAA4F;AAC5F,MAA+G;AAC/G,MAAwG;AACxG,MAAwG;AACxG,MAAoG;AACpG;AACA;;AAEA;;AAEA,4BAA4B,qGAAmB;AAC/C,wBAAwB,kHAAa;AACrC,iBAAiB,uGAAa;AAC9B,iBAAiB,+FAAM;AACvB,6BAA6B,sGAAkB;;AAE/C,aAAa,0GAAG,CAAC,uFAAO;;;;AAI8C;AACtE,OAAO,iEAAe,uFAAO,IAAI,uFAAO,UAAU,uFAAO,mBAAmB,EAAC;;;;;;;;;;;ACxBhE;;AAEb;AACA;AACA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,4BAA4B;AAChD;AACA;AACA;AACA;AACA;AACA,qBAAqB,6BAA6B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACnFa;;AAEb;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACjCa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;ACTa;;AAEb;AACA;AACA,cAAc,KAAwC,GAAG,sBAAiB,GAAG,CAAI;AACjF;AACA;AACA;AACA;AACA;;;;;;;;;;ACTa;;AAEb;AACA;AACA;AACA;AACA,kDAAkD;AAClD;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA,iFAAiF;AACjF;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,yDAAyD;AACzD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;AC5Da;;AAEb;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;UCbA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCtBA;WACA;WACA;WACA;WACA;WACA,iCAAiC,WAAW;WAC5C;WACA;;;;;WCPA;WACA;WACA;WACA;WACA,yCAAyC,wCAAwC;WACjF;WACA;WACA;;;;;WCPA;;;;;WCAA;WACA;WACA;WACA,uDAAuD,iBAAiB;WACxE;WACA,gDAAgD,aAAa;WAC7D;;;;;WCNA;;;;;;;;;;;;;;ACAsB;AACqD;AAC/C;AAC5B,IAAMjF,YAAY,GAAG,CACjB;EAAEqI,IAAI,EAAE,SAAS;EAAEzH,KAAK,EAAE,CAAC,IAAIM,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAIA,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;AAAE,CAAC,EACnG;EAAEmH,IAAI,EAAE,QAAQ;EAAEzH,KAAK,EAAE,CAAC,IAAIM,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAIA,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC;AAAE,CAAC,EAClG;EAAEmH,IAAI,EAAE,UAAU;EAAEzH,KAAK,EAAE,CAAC,IAAIM,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE,IAAIA,IAAI,CAAC,IAAI,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;EAAEoH,MAAM,EAAE;AAAK,CAAC,CACpH;AAED,IAAMiI,KAAK,GAAG;EACVnH,KAAK,EAAE,SAAS;EAChBC,UAAU,EAAE,QAAQ;EACpBC,eAAe,EAAE,QAAQ;EACzBC,MAAM,EAAE,OAAO;EACfP,cAAc,EAAE,SAAS;EACzBC,aAAa,EAAE,SAAS;EACxBC,OAAO,EAAE,KAAK,CAAE;AACpB,CAAC;AACD,IAAMsH,mBAAmB,GAAG/I,QAAQ,CAAC3F,aAAa,CAAC,YAAY,CAAC;AAChE4D,wFAAyB,CAAC,IAAIxE,IAAI,CAAC,CAAC,CAAC,CAChC6E,IAAI,CAAC,UAAC0K,gBAAgB,EAAK;EACxB,IAAMC,GAAG,GAAG,IAAI3Q,qCAAG,CAACC,YAAY,EAAEuQ,KAAK,EAAEE,gBAAgB,CAAC;EAC1DC,GAAG,CAACpP,IAAI,CAACkP,mBAAmB,CAAC;AACjC,CAAC,CAAC,SACI,CAAC,YAAM;EACT,IAAMrQ,cAAc,g0CACsH;EAC1I,IAAMuQ,GAAG,GAAG,IAAI3Q,qCAAG,CAACC,YAAY,EAAEuQ,KAAK,EAAEhN,SAAS,EAAEpD,cAAc,CAAC;EACnEuQ,GAAG,CAACpP,IAAI,CAACkP,mBAAmB,CAAC;AACjC,CAAC,CAAC,C","sources":["webpack://peskar/./src/app-template.js","webpack://peskar/./src/app.js","webpack://peskar/./src/calendar-template.js","webpack://peskar/./src/calendar.js","webpack://peskar/./src/constants.js","webpack://peskar/./src/get-production-calendar-info.js","webpack://peskar/./src/helpers.js","webpack://peskar/./src/legend.js","webpack://peskar/./src/schedule-builder.js","webpack://peskar/./src/time-helpers.js","webpack://peskar/./src/view.js","webpack://peskar/./src/styles.css","webpack://peskar/./node_modules/css-loader/dist/runtime/api.js","webpack://peskar/./node_modules/css-loader/dist/runtime/sourceMaps.js","webpack://peskar/./src/styles.css?44b2","webpack://peskar/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://peskar/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://peskar/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://peskar/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://peskar/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://peskar/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://peskar/webpack/bootstrap","webpack://peskar/webpack/runtime/compat get default export","webpack://peskar/webpack/runtime/define property getters","webpack://peskar/webpack/runtime/hasOwnProperty shorthand","webpack://peskar/webpack/runtime/make namespace object","webpack://peskar/webpack/runtime/nonce","webpack://peskar/./src/index.js"],"sourcesContent":["export const appTemplate = `<form class=\"content\">\r\n  <div class=\"warning-message hidden-element\"></div>\r\n  <fieldset class=\"fieldset\">\r\n\r\n    <legend>Выберите дату</legend>\r\n    <input type=\"date\" class=\"js-calendar daypicker\" /> \r\n    <span class=\"js-day-of-week day-of-week\"></span>\r\n    <span class=\"js-current-time current-time\"></span>\r\n  </fieldset>\r\n  <div class=\"js-chosen-day-info chosen-day-info\"></div>\r\n  <fieldset class=\"fieldset js-timer-fieldset\">\r\n  <legend></legend>\r\n    <div class=\"js-timer-container timer-container\"></div>\r\n  </fieldset>\r\n  <div class=\"calendar-container\"></div>\r\n</form>`;\r\n","import { formatDate, getDateWithoutTime, getDateIteratorByMonthIndex } from './time-helpers';\r\nimport { MONTHS_COUNT } from './constants';\r\nimport { ScheduleBuilder } from './schedule-builder';\r\nimport { View } from './view';\r\nimport { Calendar } from './calendar';\r\nimport { Legend } from './legend';\r\n\r\nexport class App {\r\n    constructor(scheduleInfo, legendColors, productionCalendarInfo, warningMessage) {\r\n        this.scheduleBuilder = new ScheduleBuilder(scheduleInfo, productionCalendarInfo);\r\n        this.legend = new Legend(this.scheduleBuilder, legendColors);\r\n        this.view = new View();\r\n        this.intervalId = null;\r\n        if (warningMessage) {\r\n            this.view.showWarningMessage(warningMessage);\r\n        }\r\n    }\r\n\r\n    setListeners() {\r\n        this.view.setChangeDateHandler((e) => {\r\n            const newDate = new Date(e.target.value);\r\n            const isCurrentDay = formatDate(newDate) === formatDate(new Date());\r\n            this.setInfo(isCurrentDay ? new Date() : getDateWithoutTime(newDate, 0), isCurrentDay);\r\n        });\r\n    }\r\n\r\n    init(container) {\r\n        const date = new Date();\r\n        this.setListeners();\r\n        this.setInfo(date, true);\r\n        this.createCalendars(date);\r\n        container?.append(this.view.element);\r\n    }\r\n\r\n    createCalendars(currentDate) {\r\n        const calendarContainer = this.view.element.querySelector('.calendar-container');\r\n        // const legendElement = createElement(createLegendTemplate(this.scheduleBuilder.schedule));\r\n\r\n        calendarContainer.append(this.legend.element);\r\n        const getNextMonthDateFromCurrent = getDateIteratorByMonthIndex(currentDate);\r\n        for (let i = 0; i < MONTHS_COUNT; i++) {\r\n            const date = getNextMonthDateFromCurrent(i);\r\n            this.addCalendar(date, calendarContainer);\r\n        }\r\n    }\r\n\r\n    addCalendar(date, container) {\r\n        this.calendar = new Calendar(date.getFullYear(), date.getMonth(), this.scheduleBuilder, this.legend);\r\n        container.append(this.calendar.element);\r\n    }\r\n\r\n    setTimer(date, isCurrentDay) {\r\n        clearInterval(this.intervalId);\r\n        if (!isCurrentDay) {\r\n            this.view.toggleTimerFieldsetVisibility(false);\r\n            return;\r\n        }\r\n        // const date = new Date();\r\n        const timerDescription = this.scheduleBuilder.getShiftDescriptionByDate(date);\r\n        this.view.setTimerFieldsetDescription(timerDescription);\r\n        this.view.toggleTimerFieldsetVisibility(true);\r\n        let secondsNumber = this.scheduleBuilder.getTimerValueByDate(date, isCurrentDay);\r\n        this.view.setTimerValue(secondsNumber);\r\n        let day = null;\r\n        this.intervalId = setInterval(() => {\r\n            const newDate = new Date();\r\n            secondsNumber = this.scheduleBuilder.getTimerValueByDate(newDate, isCurrentDay);\r\n            this.view.setTimerValue(secondsNumber);\r\n            this.view.setCurrentTime(newDate, isCurrentDay);\r\n            if (!secondsNumber || (day && newDate.getDate() !== day)) {\r\n                this.setInfo(date, true);\r\n            }\r\n            day = newDate.getDate();\r\n        }, 1000);\r\n    }\r\n\r\n    getContentData(date, forToday = false) {\r\n        return this.scheduleBuilder.getMessageByDate(date, forToday);\r\n    }\r\n\r\n    setInfo(date, forToday) {\r\n        const data = this.getContentData(date, forToday);\r\n        this.view.setDateValue(date);\r\n        this.view.setCurrentTime(date, forToday);\r\n        this.view.setContentData(data);\r\n        this.setTimer(date, forToday);\r\n    }\r\n}\r\n","export function createTemplate(month, year) {\r\n    return `<div class=\"calendar\">\r\n    <h4 class=\"calendar__header\">${month} ${year}</h4>\r\n    <div class=\"calendar__content\">\r\n      <div class=\"calendar__row calendar__row--main\">\r\n        <span class=\"calendar__row-item\">Пн</span>\r\n        <span class=\"calendar__row-item\">Вт</span>\r\n        <span class=\"calendar__row-item\">Ср</span>\r\n        <span class=\"calendar__row-item\">Чт</span>\r\n        <span class=\"calendar__row-item\">Пт</span>\r\n        <span class=\"calendar__row-item calendar__row-item--weekend\">Сб</span>\r\n        <span class=\"calendar__row-item calendar__row-item--weekend calendar__row-item--sunday\">Вс</span>\r\n      <div>\r\n  <div>`;\r\n}\r\n","import { createTemplate } from './calendar-template';\r\nimport { createElement } from './helpers';\r\nimport { MONTH_MAP, SUNDAY } from './constants.js';\r\nexport class Calendar {\r\n    constructor(year, month, scheduleBuilder, legend) {\r\n        this.year = year;\r\n        this.month = month;\r\n        this.scheduleBuilder = scheduleBuilder;\r\n        this.legend = legend;\r\n        this.element = createElement(createTemplate(MONTH_MAP[month], year));\r\n        this.headerElement = this.element.querySelector('.calendar__header');\r\n        this.contentElement = this.element.querySelector('.calendar__content');\r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        const daysCount = this.getDaysCount();\r\n        let row = this.createRow();\r\n        for (let i = 1; i <= daysCount; i++) {\r\n            const date = this.getDateByDayNumber(i);\r\n            const scheduleDay = this.scheduleBuilder.getScheduleDayByDate(date);\r\n            const color = this.legend.getColor(scheduleDay);\r\n            const day = date.getDay();\r\n            const itemElement = row.querySelector(`[data-day-index=\"${day}\"]`);\r\n            let itemContent = i;\r\n\r\n            itemElement.textContent = itemContent;\r\n            itemElement.style.background = color;\r\n\r\n            if (day === SUNDAY) {\r\n                this.contentElement.append(row);\r\n                row = i < daysCount ? this.createRow() : null;\r\n            }\r\n        }\r\n        if (row) this.contentElement.append(row);\r\n    }\r\n\r\n    getDateByDayNumber(number) {\r\n        return new Date(this.year, this.month, number);\r\n    }\r\n\r\n    getFirstDate() {\r\n        return getDateByDayNumber(1);\r\n    }\r\n\r\n    getFirstDayOfMonthIndex() {\r\n        return this.getFirstDate().getDate();\r\n    }\r\n\r\n    getDaysCount() {\r\n        return new Date(this.year, this.month + 1, 0).getDate();\r\n    }\r\n\r\n    createRow() {\r\n        const rowElement = createElement(`<div class=\"calendar__row\">\r\n          <span class=\"calendar__row-item\" data-day-index=\"1\"></span>\r\n          <span class=\"calendar__row-item\" data-day-index=\"2\"></span>\r\n          <span class=\"calendar__row-item\" data-day-index=\"3\"></span>\r\n          <span class=\"calendar__row-item\" data-day-index=\"4\"></span>\r\n          <span class=\"calendar__row-item\" data-day-index=\"5\"></span>\r\n          <span class=\"calendar__row-item\" data-day-index=\"6\"></span>\r\n          <span class=\"calendar__row-item\" data-day-index=\"0\"></span>\r\n        <div>`);\r\n        return rowElement;\r\n    }\r\n    createRowItem() {\r\n        const rowElement = createElement(``);\r\n    }\r\n}\r\n","export const MONTHS_COUNT = 12;\r\n\r\nexport const MONTH_MAP = {\r\n    0: 'Январь',\r\n    1: 'Февраль',\r\n    2: 'Март',\r\n    3: 'Апрель',\r\n    4: 'Май',\r\n    5: 'Июнь',\r\n    6: 'Июль',\r\n    7: 'Август',\r\n    8: 'Сентябрь',\r\n    9: 'Октябрь',\r\n    10: 'Ноябрь',\r\n    11: 'Декабрь',\r\n};\r\nexport const SATURDAY = 6;\r\nexport const SUNDAY = 0;\r\n","import { MONTHS_COUNT } from './constants.js';\r\nimport { formatDate, getDateIteratorByMonthIndex } from './time-helpers';\r\nexport function getProductionCalendarInfo(currentDate) {\r\n    const promiseCollection = [];\r\n    const getNextMonthDateFromCurrent = getDateIteratorByMonthIndex(currentDate);\r\n    for (let i = 0; i < MONTHS_COUNT; i++) {\r\n        const date = getNextMonthDateFromCurrent(i);\r\n        const url = `https://isdayoff.ru/api/getdata?year=${date.getFullYear()}&month=${date.getMonth() + 1}`;\r\n        promiseCollection.push(fetch(url).then((res) => res.text()));\r\n    }\r\n    return Promise.all(promiseCollection).then((results) => {\r\n        const getNextMonthDateFromCurrent = getDateIteratorByMonthIndex(currentDate);\r\n        return results.reduce((acc, res, index) => {\r\n            const date = getNextMonthDateFromCurrent(index);\r\n            const info = res.split('');\r\n            const result = info.reduce((acc, item, index) => {\r\n                date.setDate(index + 1);\r\n                acc[formatDate(date)] = !+item;\r\n                return acc;\r\n            }, {});\r\n            return { ...acc, ...result };\r\n        }, {});\r\n    });\r\n}\r\n","export const getDayNumberSinceStartYear = (date) => {\r\n    const year = date.getFullYear();\r\n    const startedTime = +new Date(2022, 0, 1);\r\n    const diff = +date - startedTime;\r\n    return Math.floor(diff / 1000 / 60 / 60 / 24);\r\n};\r\n\r\nexport const padTo2Digits = (num) => {\r\n    return num.toString().padStart(2, '0');\r\n};\r\n\r\nexport const formatDate = (date) => {\r\n    return [date.getFullYear(), padTo2Digits(date.getMonth() + 1), padTo2Digits(date.getDate())].join('-');\r\n};\r\n\r\nexport const createElement = (template) => {\r\n    const container = document.createElement('template');\r\n    container.innerHTML = template;\r\n    return container.content.firstElementChild;\r\n};\r\n","import { createElement } from './helpers';\r\nconst GRADIENT_PERCENT = '70%';\r\n\r\nexport class Legend {\r\n    constructor(sheduleBuilder, colors) {\r\n        this.color = colors;\r\n        this.sheduleBuilder = sheduleBuilder;\r\n        this.template = this.getTemplate();\r\n        this.element = this.getElement(this.template);\r\n    }\r\n\r\n    getTemplate() {\r\n        return `<div class=\"legend\">\r\n            <div class=\"legend__header\">Легенда</div>\r\n            ${this.sheduleBuilder.schedule\r\n                .map((schduleDay) => {\r\n                    const { name, dayOff, isShiftPart, isShift, isLastShiftPart, beginShiftTime, endShiftTime } = schduleDay;\r\n                    let message = `${name[0].toUpperCase() + name.slice(1)} ${!dayOff ? 'смена ' : ''}`;\r\n                    if (isShiftPart || isShift) {\r\n                        message += ` c ${beginShiftTime}`;\r\n                    }\r\n                    if (isLastShiftPart || isShift) {\r\n                        message += ` до ${endShiftTime}`;\r\n                    }\r\n\r\n                    return `<p class=\"legend__item\">\r\n                        <span class=\"legend__icon\" style=\"background:${this.getColor(schduleDay)}\"></span> - ${message} \r\n                    </p>`;\r\n                })\r\n                .join('')} \r\n                <p class=\"legend__item\">\r\n                    <span class=\"legend__icon\" style=\"background:${this.getIconGradiend(this.HOLLYDAY_SHIFT)}\"></span> - Смена в праздничный день\r\n                </p>\r\n                <p class=\"legend__item\">\r\n                    <span class=\"legend__icon\" style=\"background:${this.getIconGradiend(this.WEEKEND_SHIFT)}\"></span> - Смена в субботу или воскресенье\r\n                </p>\r\n                <p class=\"legend__item\">\r\n                    <span class=\"legend__icon\" style=\"background:${this.WEEKEND}\"></span> - Нерабочие суббота и воскресенье\r\n                </p>\r\n        </div>`;\r\n    }\r\n    get HOLLYDAY_SHIFT() {\r\n        return this.color.HOLLYDAY_SHIFT || 'pink';\r\n    }\r\n    get WEEKEND_SHIFT() {\r\n        return this.color.WEEKEND_SHIFT || 'blue';\r\n    }\r\n    get SHIFT() {\r\n        return this.color.SHIFT || 'green';\r\n    }\r\n    get SHIFT_PART() {\r\n        return this.color.SHIFT_PART || 'pink';\r\n    }\r\n    get LAST_SHIFT_PART() {\r\n        return this.color.LAST_SHIFT_PART || 'orange';\r\n    }\r\n    get DAYOFF() {\r\n        return this.color.DAYOFF || 'white';\r\n    }\r\n    get WEEKEND() {\r\n        return this.color.WEEKEND || 'red';\r\n    }\r\n\r\n    getColor({ isShiftPart, isLastShiftPart, isShift, dayOff, isWorkingDay, isHollyDay, isWeekEnd }) {\r\n        if (isWeekEnd && dayOff) {\r\n            return this.WEEKEND;\r\n        }\r\n        // При отсутствии данных API isHollyDay будет всегда иметь значение false\r\n        if (isHollyDay && isShift) {\r\n            return this.getGradient(this.SHIFT, this.HOLLYDAY_SHIFT);\r\n        }\r\n        if (isHollyDay && isShiftPart) {\r\n            return this.getGradient(this.SHIFT_PART, this.HOLLYDAY_SHIFT);\r\n        }\r\n        if (isHollyDay && isLastShiftPart) {\r\n            return this.getGradient(this.LAST_SHIFT_PART, this.HOLLYDAY_SHIFT);\r\n        }\r\n        // isWorkingDay имеет значение undefined при формировании цвета иконок легенды, поэтому требуется cтрогая проверка на булево значение false\r\n        // Почему не используем !isWeekEnd: в производственном календаре суббота или воскресенье могут быть рабочим днём. isWokingDay формируется на основе данных API.\r\n        // Без загруженных данных isWorkingDay === !isWeekEnd всегда. С данными от сервера рабочий день может быть субботой или воскресеньем.\r\n        if (isWorkingDay === false && isShiftPart) {\r\n            return this.getGradient(this.SHIFT_PART, this.WEEKEND_SHIFT);\r\n        }\r\n        if (isWorkingDay === false && isLastShiftPart) {\r\n            return this.getGradient(this.LAST_SHIFT_PART, this.WEEKEND_SHIFT);\r\n        }\r\n        if (isWorkingDay === false && isShift) {\r\n            return this.getGradient(this.SHIFT, this.WEEKEND_SHIFT);\r\n        }\r\n        if (isShift) {\r\n            return this.SHIFT;\r\n        }\r\n        if (isShiftPart) {\r\n            return this.SHIFT_PART;\r\n        }\r\n        if (isLastShiftPart) {\r\n            return this.LAST_SHIFT_PART;\r\n        }\r\n        if (dayOff) {\r\n            return this.DAYOFF;\r\n        }\r\n    }\r\n\r\n    getGradient(startColor, endColor, percent = GRADIENT_PERCENT) {\r\n        return `linear-gradient(to bottom right, ${startColor} ${percent}, ${endColor} ${GRADIENT_PERCENT} 100%)`;\r\n    }\r\n\r\n    getIconGradiend(endColor) {\r\n        return this.getGradient('white', endColor, '40%');\r\n    }\r\n\r\n    getElement(template) {\r\n        return createElement(template);\r\n        // <p class=\"legend__item\"><b class=\"legend__asterisk\">*</b> - Вечером будет пить</p>\r\n        // <p class=\"legend__item\"><b class=\"legend__asterisk\">**</b> - Возможно будет пить с обеда</p>\r\n    }\r\n}\r\n","import { getDayNumberSinceStartYear, getStringTimeBySeconds, formatDate, getTimeInSeconds, getDateWithoutTime, getTimeOfDate } from './time-helpers';\r\nimport { SUNDAY, SATURDAY } from './constants';\r\n\r\nconst PERIOD_ID = {\r\n    SHIFT: 0,\r\n    SHIFT_ENDED: 1,\r\n    DAY_OFF: 2,\r\n    BEFORE_SHIFT: 3,\r\n};\r\n\r\nfunction getScheduleDayWithTime(currentDay, scheduleDay) {\r\n    const { hours, minutes, seconds } = getTimeOfDate(currentDay);\r\n    const scheduleDateWithTime = new Date(scheduleDay.currentDate.valueOf());\r\n    scheduleDateWithTime.setHours(hours);\r\n    scheduleDateWithTime.setMinutes(minutes);\r\n    scheduleDateWithTime.setSeconds(seconds);\r\n    return { ...scheduleDay, scheduleDateWithTime, chosenDay: currentDay };\r\n}\r\n\r\nconst DAY_OF_WEEK_MAP = {\r\n    0: 'воскресенья',\r\n    1: 'понедельника',\r\n    2: 'вторника',\r\n    3: 'среды',\r\n    4: 'четверга',\r\n    5: 'пятницы',\r\n    6: 'субботы',\r\n};\r\n\r\nexport class ScheduleBuilder {\r\n    constructor(scheduleInfo, productionCalendarInfo) {\r\n        this.productionCalendarInfo = productionCalendarInfo;\r\n        this.schedule = this.createSchedule(scheduleInfo);\r\n\r\n        return new Proxy(this, {\r\n            // (*)\r\n            set(target, prop, val) {\r\n                if (prop === 'productionCalendarInfo') {\r\n                    debugger;\r\n                }\r\n                target[prop] = val;\r\n\r\n                return true;\r\n            },\r\n        });\r\n    }\r\n\r\n    createSchedule(shiftList) {\r\n        const days = new Map();\r\n        let index = 0;\r\n        shiftList.forEach(({ name, value: [begin, end], dayOff = false }) => {\r\n            const numberDayOfBeginning = getDayNumberSinceStartYear(begin);\r\n            const numberDayOfEnding = getDayNumberSinceStartYear(end);\r\n            const beginShiftTime = getStringTimeBySeconds(getTimeInSeconds(begin), true);\r\n            const endShiftTime = getStringTimeBySeconds(getTimeInSeconds(end), true);\r\n            const hasAfewDays = numberDayOfBeginning !== numberDayOfEnding;\r\n            const dayCount = numberDayOfEnding - numberDayOfBeginning + 1;\r\n            const isPart = hasAfewDays && !dayOff;\r\n            const dateOfDays = {\r\n                0: begin,\r\n                [dayCount - 1]: end,\r\n            };\r\n\r\n            for (let i = 0; i < dayCount; i++) {\r\n                const dateOfDay = dateOfDays[i] || getDateWithoutTime(begin, i);\r\n                const isShiftPart = isPart && i !== dayCount - 1;\r\n                const isLastShiftPart = isPart && i === dayCount - 1;\r\n                const isShift = !isShiftPart && !isLastShiftPart && !dayOff;\r\n                const scheduleDay = {\r\n                    index: index++,\r\n                    begin,\r\n                    currentDate: dateOfDay,\r\n                    end,\r\n                    name,\r\n                    isShift,\r\n                    isLastShiftPart,\r\n                    isShiftPart,\r\n                    dayOff,\r\n                    numberDay: getDayNumberSinceStartYear(dateOfDay),\r\n                    beginShiftTime,\r\n                    endShiftTime,\r\n                };\r\n                days.set(formatDate(dateOfDay), scheduleDay);\r\n            }\r\n        });\r\n        return [...days.values()];\r\n    }\r\n\r\n    getPeriodIdByDate(date, currentDay) {\r\n        const scheduleDay = this.getScheduleDayByDate(date);\r\n        const id = this.getPeriodId(scheduleDay, currentDay);\r\n        return id;\r\n    }\r\n\r\n    getPeriodId(scheduleDay, currentDay = false) {\r\n        const { scheduleDateWithTime, end, begin, dayOff } = scheduleDay;\r\n        const beginShift = +begin / 1000;\r\n        const endShift = +end / 1000;\r\n        const currentTime = scheduleDateWithTime / 1000;\r\n        let periodId = null;\r\n        if (currentDay && !dayOff && currentTime >= endShift) {\r\n            periodId = PERIOD_ID.SHIFT_ENDED;\r\n        } else if (currentDay && !dayOff && currentTime < beginShift) {\r\n            periodId = PERIOD_ID.BEFORE_SHIFT;\r\n        } else if (!dayOff) {\r\n            periodId = PERIOD_ID.SHIFT;\r\n        } else {\r\n            periodId = PERIOD_ID.DAY_OFF;\r\n        }\r\n        return periodId;\r\n    }\r\n\r\n    getMessageByDate(date, forToday) {\r\n        const scheduleDay = this.getScheduleDayByDate(date);\r\n        const id = this.getPeriodId(scheduleDay, forToday);\r\n        return this.getMessage(id, scheduleDay, forToday);\r\n    }\r\n\r\n    getMessage(id, scheduleDay, currentDay) {\r\n        const { beginShiftTime, endShiftTime, name, isShiftPart, isLastShiftPart, chosenDay } = scheduleDay;\r\n        const dayOfWeek = chosenDay.getDay();\r\n        const nextScheduleDay = this.getNexScheduleDay(scheduleDay);\r\n        const beginMessageNotWhileShift = 'В этот день';\r\n        const beginMessage = `${currentDay ? 'Идёт' : beginMessageNotWhileShift}`;\r\n        const partMessage = nextScheduleDay.dayOff ? 'Следующий день - выходной.' : `Следующий день - ${nextScheduleDay.name} смена с ${nextScheduleDay.beginShiftTime}.`;\r\n        switch (id) {\r\n            case PERIOD_ID.SHIFT: {\r\n                const prevDay = dayOfWeek === SUNDAY ? SATURDAY : dayOfWeek - 1;\r\n                const nextDay = dayOfWeek === SATURDAY ? SUNDAY : dayOfWeek + 1;\r\n                const firstShiftDay = isShiftPart ? '' : `прошлого дня (${DAY_OF_WEEK_MAP[prevDay]})`;\r\n                const secondShiftDay = isLastShiftPart ? '' : ` следующего дня (${DAY_OF_WEEK_MAP[nextDay]})`;\r\n                return `${beginMessage} ${name} cмена с ${beginShiftTime} ${isShiftPart || isLastShiftPart ? firstShiftDay : ''} до ${endShiftTime}${isShiftPart || isLastShiftPart ? secondShiftDay + '.' : '' + '. ' + partMessage}`;\r\n            }\r\n            case PERIOD_ID.SHIFT_ENDED: {\r\n                return `${name[0].toUpperCase() + name.slice(1)} смена ${currentDay ? 'завершилась' : 'завершается'} в ${endShiftTime}. ${partMessage}`;\r\n            }\r\n            case PERIOD_ID.BEFORE_SHIFT: {\r\n                return `${beginMessageNotWhileShift} ${name} смена начнётся с ${beginShiftTime} до ${endShiftTime} ${isShiftPart ? 'следующего' : 'текущего'} дня.`;\r\n            }\r\n            case PERIOD_ID.DAY_OFF: {\r\n                return `${beginMessageNotWhileShift} ${name}. ${partMessage}`;\r\n            }\r\n        }\r\n    }\r\n\r\n    getShiftDescriptionByDate(date) {\r\n        const id = this.getPeriodIdByDate(date, true);\r\n        const message = `Смена ${id === PERIOD_ID.SHIFT ? 'заканчивается' : 'начинается'} через:`;\r\n        return message;\r\n    }\r\n\r\n    getTimerValueByDate(date, currentDay) {\r\n        const scheduleDay = this.getScheduleDayByDate(date);\r\n        const id = this.getPeriodId(scheduleDay, currentDay);\r\n        const timerValue = this.getTimerValue(id, scheduleDay);\r\n        return timerValue;\r\n    }\r\n\r\n    getTimerValue(id, scheduleDay) {\r\n        const { scheduleDateWithTime, end, begin } = scheduleDay;\r\n        const beginShift = +begin / 1000;\r\n        const endShift = +end / 1000;\r\n        const currentTime = scheduleDateWithTime / 1000;\r\n        switch (id) {\r\n            case PERIOD_ID.SHIFT_ENDED:\r\n            case PERIOD_ID.DAY_OFF: {\r\n                const nextShiftBegin = this.getNexScheduleDay(scheduleDay, (nextDay) => !nextDay.dayOff && !nextDay.isLastShiftPart).begin / 1000;\r\n                return nextShiftBegin - currentTime; // счётчик до начала смены\r\n            }\r\n            case PERIOD_ID.BEFORE_SHIFT: {\r\n                return beginShift - currentTime; // счётчик до начала смены\r\n            }\r\n            case PERIOD_ID.SHIFT: {\r\n                return endShift - currentTime; // счётчик до конца смены\r\n            }\r\n        }\r\n    }\r\n\r\n    getScheduleDayByDate(date) {\r\n        const infoLength = this.schedule.length;\r\n        const dayNumberSinceStartYear = getDayNumberSinceStartYear(date);\r\n        const scheduleDay = this.schedule.find((dayInfo) => (dayNumberSinceStartYear - dayInfo.numberDay) % infoLength === 0);\r\n        const dayOfWeek = date.getDay();\r\n        const isWeekEnd = dayOfWeek === SATURDAY || dayOfWeek === SUNDAY;\r\n        const isWorkingDay = this.productionCalendarInfo?.[formatDate(date)] ?? !isWeekEnd;\r\n        const isHollyDay = !isWorkingDay && !isWeekEnd;\r\n        return getScheduleDayWithTime(date, { ...scheduleDay, isWorkingDay, isHollyDay, isWeekEnd });\r\n    }\r\n\r\n    getNexScheduleDay(scheduleDay, conditionCallback) {\r\n        const list = [...this.schedule.values()];\r\n        let index = scheduleDay.index;\r\n        while (true) {\r\n            if (index === list.length) index = -1;\r\n            const nextScheduleDay = list[++index];\r\n            if (nextScheduleDay && (typeof conditionCallback !== 'function' || conditionCallback(nextScheduleDay))) {\r\n                if (scheduleDay.begin > nextScheduleDay.begin) {\r\n                    const begin = new Date(+nextScheduleDay.begin);\r\n                    const end = new Date(+nextScheduleDay.end);\r\n                    begin.setDate(begin.getDate() + list.length);\r\n                    end.setDate(end.getDate() + list.length);\r\n                    return { ...nextScheduleDay, begin, end };\r\n                }\r\n                return nextScheduleDay;\r\n            }\r\n        }\r\n    }\r\n}\r\n","export const padTo2Digits = (num) => {\r\n    return num.toString().padStart(2, '0');\r\n};\r\nexport const formatDate = (date) => {\r\n    return [date.getFullYear(), padTo2Digits(date.getMonth() + 1), padTo2Digits(date.getDate())].join('-');\r\n};\r\nexport function getStringTimeBySeconds(secondsNumber, withoutSeconds = false) {\r\n    const value = parseSecondForTimer(secondsNumber, withoutSeconds);\r\n    return value.map((item) => padTo2Digits(item)).join(':');\r\n}\r\nexport const getDayNumberSinceStartYear = (date) => {\r\n    const startedTime = +new Date(2022, 0, 1);\r\n    const diff = +date - startedTime;\r\n    return Math.floor(diff / 1000 / 60 / 60 / 24);\r\n};\r\nexport function getTimeInSeconds(date) {\r\n    const { hours, minutes, seconds } = getTimeOfDate(date);\r\n    const timeInSeconds = hours * 60 * 60 + minutes * 60 + seconds;\r\n    return timeInSeconds;\r\n}\r\nexport function getStringTimeByDate(date) {\r\n    const { hours, minutes, seconds } = getTimeOfDate(date);\r\n    return [hours, minutes, seconds].map((item) => padTo2Digits(item)).join(':');\r\n}\r\nexport function parseSecondForTimer(secondsNumber, withoutSeconds) {\r\n    const hours = Math.floor(secondsNumber / (60 * 60));\r\n    const minutes = Math.floor((secondsNumber - hours * 60 * 60) / 60);\r\n    const seconds = !withoutSeconds ? secondsNumber - (hours * 60 * 60 + minutes * 60) : 0;\r\n    return [hours, minutes].concat(!withoutSeconds ? seconds : []);\r\n}\r\nexport function getTimeOfDate(date) {\r\n    const hours = date.getHours();\r\n    const minutes = date.getMinutes();\r\n    const seconds = date.getSeconds();\r\n    return { hours, minutes, seconds };\r\n}\r\nexport function getDateWithoutTime(date, offset = 1) {\r\n    const day = new Date(date.valueOf());\r\n    day.setDate(day.getDate() + offset);\r\n    day.setHours(0);\r\n    day.setMinutes(0);\r\n    day.setSeconds(0);\r\n    return day;\r\n}\r\n\r\nexport function getDateIteratorByMonthIndex(currentDate) {\r\n    const currentMonth = currentDate.getMonth();\r\n    const currentYear = currentDate.getFullYear();\r\n    return function (i) {\r\n        let date = new Date(+currentDate);\r\n        date.setYear(currentYear);\r\n        date.setMonth(currentMonth + i);\r\n        return date;\r\n    };\r\n}\r\n","import { getStringTimeBySeconds, formatDate, getStringTimeByDate } from './time-helpers';\r\nimport { createElement } from './helpers';\r\nimport { appTemplate } from './app-template';\r\nconst DAY_WEEK = {\r\n    0: 'Воскресенье',\r\n    1: 'Понедельник',\r\n    2: 'Вторник',\r\n    3: 'Среда',\r\n    4: 'Четверг',\r\n    5: 'Пятница',\r\n    6: 'Суббота',\r\n};\r\n\r\nexport class View {\r\n    constructor() {\r\n        this.element = createElement(appTemplate);\r\n        this.calendarElement = this.element.querySelector('.js-calendar');\r\n        this.chosenInfoContainer = this.element.querySelector('.js-chosen-day-info');\r\n        this.timerContainer = this.element.querySelector('.js-timer-container');\r\n        this.timerFieldset = this.element.querySelector('.js-timer-fieldset');\r\n        this.dayOfWeekElement = this.element.querySelector('.js-day-of-week');\r\n        this.currentTimeElement = this.element.querySelector('.js-current-time');\r\n    }\r\n\r\n    showWarningMessage(message) {\r\n        const warningMessageElement = this.element.querySelector('.warning-message');\r\n        warningMessageElement.textContent = message;\r\n        warningMessageElement.classList.remove('hidden-element');\r\n    }\r\n    setTimerValue(seconds) {\r\n        this.timerContainer.textContent = getStringTimeBySeconds(seconds);\r\n    }\r\n\r\n    setTimerFieldsetDescription(value) {\r\n        this.timerFieldset.querySelector('legend').textContent = value;\r\n    }\r\n\r\n    setDayOfWeek(date) {\r\n        this.dayOfWeekElement.textContent = DAY_WEEK[date.getDay()];\r\n    }\r\n\r\n    setDateValue(date) {\r\n        this.calendarElement.value = formatDate(date);\r\n        this.dayOfWeekElement.textContent = DAY_WEEK[date.getDay()];\r\n    }\r\n\r\n    setCurrentTime(date, isCurrentDay) {\r\n        if (!isCurrentDay) this.currentTimeElement.classList.add('hidden-element');\r\n        else {\r\n            this.currentTimeElement.classList.remove('hidden-element');\r\n            this.currentTimeElement.textContent = getStringTimeByDate(date);\r\n        }\r\n    }\r\n\r\n    setContentData(data) {\r\n        this.chosenInfoContainer.textContent = data;\r\n    }\r\n\r\n    setChangeDateHandler(handler) {\r\n        this.calendarElement.addEventListener('change', handler);\r\n    }\r\n\r\n    toggleTimerFieldsetVisibility(flag) {\r\n        this.timerFieldset.classList.toggle('hidden-element', !flag);\r\n        if (!flag) this.timerContainer.textContent = '';\r\n    }\r\n}\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `#container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: flex-start;\r\n}\r\n\r\n.content {\r\n    border: 3px solid gray;\r\n    padding: 20px;\r\n    display: flex;\r\n    border-radius: 30px;\r\n    justify-content: center;\r\n    flex-direction: column;\r\n    font-size: 25px;\r\n    font-family: sans-serif;\r\n    max-width: 600px;\r\n    margin: 15px;\r\n}\r\n\r\n.daypicker,\r\n.day-of-week,\r\n.current-time {\r\n    font-size: 25px;\r\n    border: 3px solid gray;\r\n    border-radius: 30px;\r\n    padding-left: 5px;\r\n    padding-right: 5px;\r\n    margin: 5px;\r\n}\r\n\r\n.day-of-week,\r\n.current-time {\r\n    border-radius: 30px;\r\n    padding: 2px 10px;\r\n}\r\n\r\n.chosen-day-info {\r\n    border: 3px solid gray;\r\n    padding: 10px 15px;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.fieldset {\r\n    border: 3px solid gray;\r\n    margin-bottom: 20px;\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n}\r\n\r\n.hidden-element {\r\n    display: none;\r\n}\r\n\r\n.calendar {\r\n    font-size: 25px;\r\n    margin-bottom: 15px;\r\n}\r\n.calendar__header {\r\n    text-align: center;\r\n    margin: 0;\r\n}\r\n.calendar__content {\r\n    border: 3px solid gray;\r\n}\r\n.calendar__row {\r\n    display: flex;\r\n    justify-content: space-around;\r\n    flex-wrap: nowrap;\r\n    cursor: pointer;\r\n    min-height: 35px;\r\n}\r\n.calendar__row--main {\r\n    cursor: auto;\r\n}\r\n.calendar__row-item {\r\n    border: 1px solid gray;\r\n    flex: 1 1 0px;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n}\r\n\r\n.calendar__row-item--weekend {\r\n    background-color: red;\r\n}\r\n\r\n.calendar__row-item--shift {\r\n    background-color: green;\r\n}\r\n\r\n.calendar__row-item--part-shift {\r\n    background-color: yellow;\r\n}\r\n\r\n.legend {\r\n    font-size: 15px;\r\n    border: 3px solid gray;\r\n    border-radius: 30px;\r\n    padding: 20px;\r\n    margin: 0 auto;\r\n    margin-bottom: 20px;\r\n}\r\n\r\n.legend__header {\r\n    font-size: 20px;\r\n    font-weight: bold;\r\n    text-align: center;\r\n    margin-bottom: 10px;\r\n}\r\n\r\n.legend__item {\r\n    display: flex;\r\n    align-items: center;\r\n    padding: 0;\r\n    margin: 5px;\r\n    max-width: 300px;\r\n}\r\n\r\n.legend__icon {\r\n    display: inline-block;\r\n    width: 20px;\r\n    height: 20px;\r\n    margin-right: 10px;\r\n    border: 1px solid gray;\r\n}\r\n\r\n.legend__asterisk {\r\n    font-size: 30px !important;\r\n}\r\n\r\n.warning-message {\r\n    font-size: 20px;\r\n    padding: 15px;\r\n    color: red;\r\n    border: 3px solid gray;\r\n    border-radius: 30px;\r\n    margin-bottom: 10px;\r\n}\r\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/styles.css\"],\"names\":[],\"mappings\":\"AAAA;IACI,aAAa;IACb,uBAAuB;IACvB,uBAAuB;AAC3B;;AAEA;IACI,sBAAsB;IACtB,aAAa;IACb,aAAa;IACb,mBAAmB;IACnB,uBAAuB;IACvB,sBAAsB;IACtB,eAAe;IACf,uBAAuB;IACvB,gBAAgB;IAChB,YAAY;AAChB;;AAEA;;;IAGI,eAAe;IACf,sBAAsB;IACtB,mBAAmB;IACnB,iBAAiB;IACjB,kBAAkB;IAClB,WAAW;AACf;;AAEA;;IAEI,mBAAmB;IACnB,iBAAiB;AACrB;;AAEA;IACI,sBAAsB;IACtB,kBAAkB;IAClB,mBAAmB;AACvB;;AAEA;IACI,sBAAsB;IACtB,mBAAmB;IACnB,aAAa;IACb,eAAe;AACnB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,eAAe;IACf,mBAAmB;AACvB;AACA;IACI,kBAAkB;IAClB,SAAS;AACb;AACA;IACI,sBAAsB;AAC1B;AACA;IACI,aAAa;IACb,6BAA6B;IAC7B,iBAAiB;IACjB,eAAe;IACf,gBAAgB;AACpB;AACA;IACI,YAAY;AAChB;AACA;IACI,sBAAsB;IACtB,aAAa;IACb,aAAa;IACb,uBAAuB;IACvB,mBAAmB;AACvB;;AAEA;IACI,qBAAqB;AACzB;;AAEA;IACI,uBAAuB;AAC3B;;AAEA;IACI,wBAAwB;AAC5B;;AAEA;IACI,eAAe;IACf,sBAAsB;IACtB,mBAAmB;IACnB,aAAa;IACb,cAAc;IACd,mBAAmB;AACvB;;AAEA;IACI,eAAe;IACf,iBAAiB;IACjB,kBAAkB;IAClB,mBAAmB;AACvB;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,UAAU;IACV,WAAW;IACX,gBAAgB;AACpB;;AAEA;IACI,qBAAqB;IACrB,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,sBAAsB;AAC1B;;AAEA;IACI,0BAA0B;AAC9B;;AAEA;IACI,eAAe;IACf,aAAa;IACb,UAAU;IACV,sBAAsB;IACtB,mBAAmB;IACnB,mBAAmB;AACvB\",\"sourcesContent\":[\"#container {\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: flex-start;\\r\\n}\\r\\n\\r\\n.content {\\r\\n    border: 3px solid gray;\\r\\n    padding: 20px;\\r\\n    display: flex;\\r\\n    border-radius: 30px;\\r\\n    justify-content: center;\\r\\n    flex-direction: column;\\r\\n    font-size: 25px;\\r\\n    font-family: sans-serif;\\r\\n    max-width: 600px;\\r\\n    margin: 15px;\\r\\n}\\r\\n\\r\\n.daypicker,\\r\\n.day-of-week,\\r\\n.current-time {\\r\\n    font-size: 25px;\\r\\n    border: 3px solid gray;\\r\\n    border-radius: 30px;\\r\\n    padding-left: 5px;\\r\\n    padding-right: 5px;\\r\\n    margin: 5px;\\r\\n}\\r\\n\\r\\n.day-of-week,\\r\\n.current-time {\\r\\n    border-radius: 30px;\\r\\n    padding: 2px 10px;\\r\\n}\\r\\n\\r\\n.chosen-day-info {\\r\\n    border: 3px solid gray;\\r\\n    padding: 10px 15px;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.fieldset {\\r\\n    border: 3px solid gray;\\r\\n    margin-bottom: 20px;\\r\\n    display: flex;\\r\\n    flex-wrap: wrap;\\r\\n}\\r\\n\\r\\n.hidden-element {\\r\\n    display: none;\\r\\n}\\r\\n\\r\\n.calendar {\\r\\n    font-size: 25px;\\r\\n    margin-bottom: 15px;\\r\\n}\\r\\n.calendar__header {\\r\\n    text-align: center;\\r\\n    margin: 0;\\r\\n}\\r\\n.calendar__content {\\r\\n    border: 3px solid gray;\\r\\n}\\r\\n.calendar__row {\\r\\n    display: flex;\\r\\n    justify-content: space-around;\\r\\n    flex-wrap: nowrap;\\r\\n    cursor: pointer;\\r\\n    min-height: 35px;\\r\\n}\\r\\n.calendar__row--main {\\r\\n    cursor: auto;\\r\\n}\\r\\n.calendar__row-item {\\r\\n    border: 1px solid gray;\\r\\n    flex: 1 1 0px;\\r\\n    display: flex;\\r\\n    justify-content: center;\\r\\n    align-items: center;\\r\\n}\\r\\n\\r\\n.calendar__row-item--weekend {\\r\\n    background-color: red;\\r\\n}\\r\\n\\r\\n.calendar__row-item--shift {\\r\\n    background-color: green;\\r\\n}\\r\\n\\r\\n.calendar__row-item--part-shift {\\r\\n    background-color: yellow;\\r\\n}\\r\\n\\r\\n.legend {\\r\\n    font-size: 15px;\\r\\n    border: 3px solid gray;\\r\\n    border-radius: 30px;\\r\\n    padding: 20px;\\r\\n    margin: 0 auto;\\r\\n    margin-bottom: 20px;\\r\\n}\\r\\n\\r\\n.legend__header {\\r\\n    font-size: 20px;\\r\\n    font-weight: bold;\\r\\n    text-align: center;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.legend__item {\\r\\n    display: flex;\\r\\n    align-items: center;\\r\\n    padding: 0;\\r\\n    margin: 5px;\\r\\n    max-width: 300px;\\r\\n}\\r\\n\\r\\n.legend__icon {\\r\\n    display: inline-block;\\r\\n    width: 20px;\\r\\n    height: 20px;\\r\\n    margin-right: 10px;\\r\\n    border: 1px solid gray;\\r\\n}\\r\\n\\r\\n.legend__asterisk {\\r\\n    font-size: 30px !important;\\r\\n}\\r\\n\\r\\n.warning-message {\\r\\n    font-size: 20px;\\r\\n    padding: 15px;\\r\\n    color: red;\\r\\n    border: 3px solid gray;\\r\\n    border-radius: 30px;\\r\\n    margin-bottom: 10px;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (item) {\n  var content = item[1];\n  var cssMapping = item[3];\n  if (!cssMapping) {\n    return content;\n  }\n  if (typeof btoa === \"function\") {\n    var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(cssMapping))));\n    var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n    var sourceMapping = \"/*# \".concat(data, \" */\");\n    return [content].concat([sourceMapping]).join(\"\\n\");\n  }\n  return [content].join(\"\\n\");\n};","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js!./styles.css\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js!./styles.css\";\n       export default content && content.locals ? content.locals : undefined;\n","\"use strict\";\n\nvar stylesInDOM = [];\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n  return result;\n}\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n    identifiers.push(identifier);\n  }\n  return identifiers;\n}\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n  return updater;\n}\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n    var newLastIdentifiers = modulesToDom(newList, options);\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n      var _index = getIndexByIdentifier(_identifier);\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n\n/* istanbul ignore next  */\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target);\n\n    // Special case to return head of iframe instead of iframe itself\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n    memo[target] = styleTarget;\n  }\n  return memo[target];\n}\n\n/* istanbul ignore next  */\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n  target.appendChild(style);\n}\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n  var needLayer = typeof obj.layer !== \"undefined\";\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n  css += obj.css;\n  if (needLayer) {\n    css += \"}\";\n  }\n  if (obj.media) {\n    css += \"}\";\n  }\n  if (obj.supports) {\n    css += \"}\";\n  }\n  var sourceMap = obj.sourceMap;\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  }\n\n  // For old IE\n  /* istanbul ignore if  */\n  options.styleTagTransform(css, styleElement, options.options);\n}\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n  styleElement.parentNode.removeChild(styleElement);\n}\n\n/* istanbul ignore next  */\nfunction domAPI(options) {\n  if (typeof document === \"undefined\") {\n    return {\n      update: function update() {},\n      remove: function remove() {}\n    };\n  }\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","__webpack_require__.nc = undefined;","import './styles.css';\r\nimport { getProductionCalendarInfo } from './get-production-calendar-info';\r\nimport { App } from './app';\r\nconst scheduleInfo = [\r\n    { name: 'дневная', value: [new Date(2022, 6, 20, 8, 0, 0, 0), new Date(2022, 6, 20, 20, 0, 0, 0)] },\r\n    { name: 'ночная', value: [new Date(2022, 6, 21, 20, 0, 0, 0), new Date(2022, 6, 22, 8, 0, 0, 0)] },\r\n    { name: 'выходной', value: [new Date(2022, 6, 23, 0, 0, 0, 0), new Date(2022, 6, 23, 0, 0, 0, 0)], dayOff: true },\r\n];\r\n\r\nconst COLOR = {\r\n    SHIFT: '#0CCA4A',\r\n    SHIFT_PART: 'yellow',\r\n    LAST_SHIFT_PART: 'orange',\r\n    DAYOFF: 'white',\r\n    HOLLYDAY_SHIFT: '#5C0029',\r\n    WEEKEND_SHIFT: '#2708A0',\r\n    WEEKEND: 'red', //'#FB4D3D',\r\n};\r\nconst appContainerElement = document.querySelector('#container');\r\ngetProductionCalendarInfo(new Date())\r\n    .then((prodCalendarInfo) => {\r\n        const app = new App(scheduleInfo, COLOR, prodCalendarInfo);\r\n        app.init(appContainerElement);\r\n    })\r\n    .catch(() => {\r\n        const warningMessage = `Внимание! Данные производственного календаря не загрузились! Отображения праздничных дней на календаре не будет!\r\n        Некоторые рабочие субботы и воскресенья будут учитываться как нерабочие. Некоторые праздничные будние дни будут считаться рабочими днями.`;\r\n        const app = new App(scheduleInfo, COLOR, undefined, warningMessage);\r\n        app.init(appContainerElement);\r\n    });\r\n"],"names":["appTemplate","formatDate","getDateWithoutTime","getDateIteratorByMonthIndex","MONTHS_COUNT","ScheduleBuilder","View","Calendar","Legend","App","scheduleInfo","legendColors","productionCalendarInfo","warningMessage","_classCallCheck","scheduleBuilder","legend","view","intervalId","showWarningMessage","_createClass","key","value","setListeners","_this","setChangeDateHandler","e","newDate","Date","target","isCurrentDay","setInfo","init","container","date","createCalendars","append","element","currentDate","calendarContainer","querySelector","getNextMonthDateFromCurrent","i","addCalendar","calendar","getFullYear","getMonth","setTimer","_this2","clearInterval","toggleTimerFieldsetVisibility","timerDescription","getShiftDescriptionByDate","setTimerFieldsetDescription","secondsNumber","getTimerValueByDate","setTimerValue","day","setInterval","setCurrentTime","getDate","getContentData","forToday","arguments","length","undefined","getMessageByDate","data","setDateValue","setContentData","createTemplate","month","year","concat","createElement","MONTH_MAP","SUNDAY","headerElement","contentElement","daysCount","getDaysCount","row","createRow","getDateByDayNumber","scheduleDay","getScheduleDayByDate","color","getColor","getDay","itemElement","itemContent","textContent","style","background","number","getFirstDate","getFirstDayOfMonthIndex","rowElement","createRowItem","SATURDAY","getProductionCalendarInfo","promiseCollection","url","push","fetch","then","res","text","Promise","all","results","reduce","acc","index","info","split","result","item","setDate","_objectSpread","getDayNumberSinceStartYear","startedTime","diff","Math","floor","padTo2Digits","num","toString","padStart","join","template","document","innerHTML","content","firstElementChild","GRADIENT_PERCENT","sheduleBuilder","colors","getTemplate","getElement","schedule","map","schduleDay","name","dayOff","isShiftPart","isShift","isLastShiftPart","beginShiftTime","endShiftTime","message","toUpperCase","slice","getIconGradiend","HOLLYDAY_SHIFT","WEEKEND_SHIFT","WEEKEND","get","SHIFT","SHIFT_PART","LAST_SHIFT_PART","DAYOFF","_ref","isWorkingDay","isHollyDay","isWeekEnd","getGradient","startColor","endColor","percent","getStringTimeBySeconds","getTimeInSeconds","getTimeOfDate","PERIOD_ID","SHIFT_ENDED","DAY_OFF","BEFORE_SHIFT","getScheduleDayWithTime","currentDay","_getTimeOfDate","hours","minutes","seconds","scheduleDateWithTime","valueOf","setHours","setMinutes","setSeconds","chosenDay","DAY_OF_WEEK_MAP","createSchedule","Proxy","set","prop","val","shiftList","days","Map","forEach","_ref$value","_slicedToArray","begin","end","_ref$dayOff","numberDayOfBeginning","numberDayOfEnding","hasAfewDays","dayCount","isPart","dateOfDays","_defineProperty","dateOfDay","numberDay","_toConsumableArray","values","getPeriodIdByDate","id","getPeriodId","beginShift","endShift","currentTime","periodId","getMessage","dayOfWeek","nextScheduleDay","getNexScheduleDay","beginMessageNotWhileShift","beginMessage","partMessage","prevDay","nextDay","firstShiftDay","secondShiftDay","timerValue","getTimerValue","nextShiftBegin","_this$productionCalen","_this$productionCalen2","infoLength","dayNumberSinceStartYear","find","dayInfo","conditionCallback","list","withoutSeconds","parseSecondForTimer","timeInSeconds","getStringTimeByDate","_getTimeOfDate2","getHours","getMinutes","getSeconds","offset","currentMonth","currentYear","setYear","setMonth","DAY_WEEK","calendarElement","chosenInfoContainer","timerContainer","timerFieldset","dayOfWeekElement","currentTimeElement","warningMessageElement","classList","remove","setDayOfWeek","add","handler","addEventListener","flag","toggle","COLOR","appContainerElement","prodCalendarInfo","app"],"sourceRoot":""}